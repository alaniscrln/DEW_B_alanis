<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    12. ¿Cuántos segundos han pasado desde que naciste? ¿y minutos? ¿y horas? ¿y días? Implementaruna función que dada
    una fecha cualquiera en formato “yyyy-mm-dd”, devuelva cuánto tiempo ha pasado desde esa fecha. La función aceptará
    un segundo parámetro para indicar en qué unidad se quiere obtener el resultado: ‘d’ → días, ‘h’ → horas, ‘m’ →
    minutos y ‘s’ → segundos. Si no es ninguna de estas unidades, se mostrará un error.

    <script type="text/javascript">


        alert(calcularTiempo("1999-06-23", 'd'));
        alert(calcularTiempo("1999-06-23", 'h'));
        alert(calcularTiempo("1999-06-23", 'm'));
        alert(calcularTiempo("1999-06-23", 's'));
        alert(calcularTiempo("1999-06-23"));


        //----------------------------------------------------------------------------------------------------------------

        function calcularTiempo(fecha, unidad) {

            // La fecha viene dada en el formato "YYYY-MM-DD"

            var datos = fecha.split('-');
            var fechaInicial = new Date(datos[0], datos[1] - 1, datos[2]);
            var fechaActual = new Date();

            var resultado;
            switch (unidad) {
                case 'd':   // dias de diferencia
                    resultado = parseInt((fechaActual.getTime() - fechaInicial.getTime()) / (1000 * 60 * 60 * 24)); 
                    break;
                case 'h':   // horas
                    resultado = parseInt((fechaActual.getTime() - fechaInicial.getTime()) / (1000 * 60 * 60));
                    break;
                case 'm': // minutos
                    resultado = parseInt((fechaActual.getTime() - fechaInicial.getTime()) / (1000 * 60));
                    break;
                case 's': // segundos
                    resultado = parseInt((fechaActual.getTime() - fechaInicial.getTime()) / (1000));
                    break;
                default:
                resultado = "ERROR. Introduce una unidad.";
            }

            return resultado;

        }

    </script>
</body>

</html>